<div class="page-title">
    <h1>Añadir Estudio</h1>
    <p class="patient-info" *ngIf="patient">{{ patient?.name }} {{ patient?.lastname }} - DNI: {{ patient?.dni }}</p>
</div>

<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <img src="../../../../assets/Estudios.png" alt="Estudios">
        </div>
        
        <form (ngSubmit)="formSubmit()">
            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Nombre del estudio</mat-label>
                <mat-select
                    required
                    [(ngModel)]="analysis.name"
                    name="analysisName"
                    (selectionChange)="onAnalysisSelectionChange()">
                    <mat-option *ngFor="let option of analysisOptions" [value]="option">
                        {{ option }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="full-width" appearance="outline">
                <mat-label>Descripción</mat-label>
                <input
                    [(ngModel)]="analysis.description"
                    name="description"
                    matInput
                    placeholder="Ingrese la descripción del estudio"
                    [disabled]="true"
                />
            </mat-form-field>

            <div class="info-box">
                <i class="fas fa-info-circle"></i>
                <span>El paciente recibirá una notificación del estudio asignado y podrá reservar turno desde la disponibilidad de los centros médicos.</span>
            </div>

            <div class="button-group">
                <button type="submit" class="btn-primary">
                    <i class="fas fa-plus"></i> Añadir
                </button>
                <button type="reset" class="btn-secondary">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
            </div>
        </form>
    </div>
</div>
